\documentclass[a4paper, 11pt]{article}[15.3.2010]									% valikost stranky, styl a pismo

%% packages
\usepackage[left=2cm, text={17cm, 24cm}, top=3cm]{geometry}		% rozmery stranky
\usepackage{times}
\usepackage[czech]{babel}
\usepackage[latin2]{inputenc}
%\usepackage[IL2]{fontenc}													% kodovani fontu



\usepackage{amsmath}
 %  \usepackage{amsfonts}   % if you want the fonts
   \usepackage{amssymb}    % if you want extra symbols
%\usepackage{latexsym}
\usepackage{tikz}
\usetikzlibrary{arrows,decorations.pathmorphing,backgrounds,positioning,fit,petri}

%\usepackage{pnets}
%\usepackage{pstricks}
\usepackage{amsthm}
\pagestyle{plain}

  \usepackage{color}
  \usepackage[unicode,colorlinks,hyperindex,plainpages=false,pdftex]{hyperref}
  \definecolor{links}{rgb}{0.4,0.5,0}
  \definecolor{anchors}{rgb}{1,0,0}



\begin{document}

\section{Úvod}
V této práci je øe¹ena implementace P/T\footnote{Place/Transitions} Petriho sítí. Za pomocí vzniklé knihovny je mo¾né vytvoøit model Petriho sítì a následnì si jej nasimulovat. Nejedná se tedy pouze o èisté stochastické Petriho sítì, ale o P/T sítì s roz¹íøenými vlastnostmi, které jim dávají výpoèetní sílu Turingova stroje. Jsou tedy schopny poèítat v¹echny vyèíslitelné funkce. Mezi hlavní roz¹íøení díky, které se této vlastnosti dosahuje jsou priority pøechodù. K dal¹ím roz¹íøením patøí pravdìpodobnosti pøechodù a èasování pøechodù.

Pøeètením tohoto dokumentu získáte základní informace o tvorbì modelu Petriho sítì a o jeho samotné simulaci. 

\subsection{kapitola}
Na projektu pracoval dvouèlenný tým slo¾ený ze studentù bakaláøského studia, úkoly byly rozdìleny následovnì:
\begin{itemize}
  \item Du¹an Kovaèiè (vedoucí týmu) - jádro simulace, dokumentace.
  \item Jaroslav Sendler - kalendáø, generátory pseudonáhodných èísel, statistika a výpisy, dokumentace.
\end{itemize}
Pro tento projekt nebyl vyu¾it ¾ádný poradce, tudí¾ nebylo pou¾ito ¾ádných rad z tøetí strany. Tedy kromì jedné konzultace s .p Hrubým.
Jako odborná a pomocná literatura byla studována:
\begin{enumerate}
 \item Rábová Z. a kol: Modelování a simulace, VUT Brno, 1992, ISBN 80-214-0480-9
 \item Soubor materiálù prezentovaných na pøedná¹kách
\end{enumerate}

\subsection{kapitola}
V jakém prostøedí a za jakých podmínek probíhalo experimentální ovìøování validity modelu ? pokud ètenáø/zadavatel va¹í zprávy neuvìøí ve validitu va¹eho modelu, obvykle va¹i práci odmítne u¾ v tomto okam¾iku.


\section{Rozbor tématu a pou¾itých metod/technologií}
Petriho sít je matematická reprezentace diskrétních distribuovaných systémù. Vznikla za úèelem modelovat øídící systémy. ycházejí z blabbla.... 
\theoremstyle{definition}
\newtheorem{definice}{Definice}[section]
\begin{definice}
Petriho sí» je graf popisující stavy a
pøechody mezi stavy, umo¾òuje vyjádøení paralelismu a nedeterminismu.........viz prevzato ze opeora IMS str 31
\end{definice}

Definici v podobì matematického zápisu viz. Definice P/T Petriho sítì na stranì 126 ve slajdech.

\begin{definice} Petriho sí» je ¹estice 
$\Sigma$ = ($P$, $T$, $F$ , $W$, $C$, $M_0$)\\ \\
kde:
\begin{itemize}
   \item $P$ je mno¾ina míst
   \item $T$ je mno¾ina pøechodù, $P$ $\cap$ $T$ = 0
   \item $F$ $\subseteq$ ($P$ $\times$ $T$) $\cup$ ($T$ $\times$ $P$) incidenèní relace
   \item $W$ : $F$ $\rightarrow$ \{1,2, ...\} váhová funkce
   \item Kapacity míst. $C$ : $P$ $\rightarrow$ $N$
   \item $M_0$ poèáteèní znaèení, $M_0$ : $P$ $\rightarrow$ $N$
   \item ($M$ se nazývá znaèení Petriho sítì)
\end{itemize}
\end{definice}

Petriho sí» je tvoøena pomocí tøí následujících objektù:

\subsubsection*{Místa}   
\textit{Místa} (Places), modelují parciální stavy systému. Jejich vizuální vyjádøení v grafu Petriho sítí je ukázáno na obrázku \ref{pic1}.
\begin{figure}[h]
  \begin{center}
  \begin{tikzpicture}
    [place/.style={circle,draw=black!80,thick, inner sep=0pt,minimum size=10mm},
    transition/.style={rectangle,draw=black!80,thick,inner sep=0pt,minimum size=4mm},
    bend angle=45,
    pre/.style={<-, shorten <=1pt,>=stealth', semithick},
    post/.style={->, shorten >=1pt, >=stealth', semithick}]
    \node at ( -1,1) [place, label=above:$p_0$] (p0){};
    \end{tikzpicture}
    \caption{Vyjádøení místa v grafu}
    \label{pic1}
  \end{center}
\end{figure}
Vlastnosti míst jsou definovány pomocí znaèek (tokens), které vyjadøují okam¾itý stav systému. Tento stav je zobrazen na obrázku èíslo \ref{pic2}.
\begin{figure}[h]
  \begin{center}
  \begin{tikzpicture}
    [place/.style={circle,draw=black!80,thick, inner sep=0pt,minimum size=10mm},
    transition/.style={rectangle,draw=black!80,thick,inner sep=0pt,minimum size=4mm},
    bend angle=45,
    pre/.style={<-, shorten <=1pt,>=stealth', semithick},
    post/.style={->, shorten >=1pt, >=stealth', semithick}]
    \node at ( -1,1) [place, tokens=5, label=above:$p_0$] (p0){};
    \end{tikzpicture}
    \caption{Vyjádøení místa s 5 znaèkami v grafu}
    \label{pic2}
  \end{center}
\end{figure}
Je-li znaèka v místì  pøítomna, modeluje to skuteènost, ¾e dané stanovisko, uplatòované pøi posuzování, stavu je momentálnì aktuální, nebo-li podmínka je splnìna. Ka¾dé místo má nadefinovaný poèáteèní stav (poèet znaèek na zaèátku) a kapacitu (maximální poèet znaèek na místì). Místo bez ohodnocení je chápáno jako místo s neomezenou kapacitou.

\subsubsection*{Pøechody}   
 \textit{Pøechod} (Transitions), definují vzory mo¾ných událostí. Mezi vlastnosti je¾ definují pøechod patøí vstupní a výstupní místa, které jsou vyjádøeny orientovanými hranami spojující místa a pøechody (viz.\ref{Hrany}).

Obrázek \ref{pic3} zobrazuje grafický náèrt pøechodù. Èást A ukazuje zapsání vstupu do pøechodu a èást B zapsání výstupu.

\begin{figure}[h]
  \begin{center}
  \begin{tikzpicture}
    [place/.style={circle,draw=black!80,thick, inner sep=0pt,minimum size=10mm},
    transition/.style={rectangle,draw=black!80,thick,inner sep=0pt,minimum size=4mm},
    bend angle=45,
    pre/.style={<-, shorten <=1pt,>=stealth', semithick},
    post/.style={->, shorten >=1pt, >=stealth', semithick}]
    \node at ( -1,1) [place, tokens=1, label=above:$p_0$] (p0){};
    \node at ( 1,1) [transition] (t1)[]{}
      edge [pre] (p0);
%------------------------------------
    \node at ( 8,1) [place, tokens=1, label=above:$p_0$] (p0){};
    \node at ( 6,1) [transition] (t1)[]{}
      edge [post] (p0);
    \end{tikzpicture}
    \caption{A - Vstup do pøechodu, B - výstup z pøechodu}
    \label{pic3}
  \end{center}
\end{figure}
Pøechod je proveditelný pouze pokud splòuje vstupní a následnì výstupní podmínky. Jako vstupní podmínky se jeví obsah znaèek v místì vstupu. Pøi provádìní pøechodu se znaèky ze vstupního místa odeberou a pøesunou se na výstupní místo, tímto se pou¾ijí výstupní podmínky. Zavedením roz¹íøení pro Petriho sítì zvìt¹ujeme jejich popisnou sílu. Jsou to:
\begin{description}
  \item[priority pøechodù] - je-li pøechod s vy¹¹í prioritou proveditelný, tak se provede døív ne¾ kterýkoliv proveditelný pøechod s ni¾¹í prioritou. Pokud pøechodu neurèíme velikost priority jako defaultnì je brána hodnota \textit{0}, tato hodnota je i rezervována pro pøechody èasované. Díky prioritì je mo¾no øe¹it deterministické konflikty.
  \item[pravdìpodobnosti pøechodù] - je udávána v procentech. Celkový souèet pravdìpodobnosti v¹ech pøechodù ve stejné úrovni musí být \textit{1}, neboli \textit{100\%}.
  \item[èasování pøechodù] - do Petriho sítí pøiná¹í mo¾nost pracovat s èasem. Doposud byly v¹echny zmìny v síti provedeny okam¾itì. Nyní zmìny mohou trvat urèitou dobu.
\end{description}
Tato roz¹íøení se navzájem nesmí kombinovat. Obrázek \ref{pic4} ukazuje pou¾ití P/T s roz¹íøeními.

\begin{figure}[h]
  \begin{tikzpicture}
    [place/.style={circle,draw=black!80,thick, inner sep=0pt,minimum size=10mm},
    transition/.style={rectangle,draw=black!80,thick,inner sep=0pt,minimum size=4mm},
    bend angle=45,
    pre/.style={<-, shorten <=1pt,>=stealth', semithick},
    post/.style={->, shorten >=1pt, >=stealth', semithick}]
    \node at ( -1,0) [place, tokens=1, label=above:$p_0$] (p0){};
    \node at ( 3,1) [place, label=above:$p_1$] (p1){};
    \node at ( 3,-1) [place, label=above:$p_2$] (p2){};
    \node at ( 1,1) [transition] (t1)[label=above:30\%, label=below:akce1]{}
      edge [pre] (p0)
      edge [post] (p1);
    \node at (1,-1) [transition] (t2)[label=above:70\%, label=below:akce2]{}
      edge [pre] (p0)
      edge [post] (p2);
%---------------------------------------------------
    \node at ( 5,0) [place, tokens=1, label=above:$p_0$] (p0){};
    \node at ( 9,0) [place, label=above:$p_1$] (p1){};
    \node at ( 7,0) [transition] (t1)[label=below:3s]{}
      edge [pre] (p0)
      edge [post] (p1);
%-----------------------------------------------------
    \node at ( 12,1) [place, tokens=1, label=above:$p_0$] (p0){};
    \node at ( 10,-1) [transition] (t1)[]{}
      edge [pre] (p0);
    \node at (12,-1) [transition] (t2)[label=below:{$p = 1$}]{}
      edge [pre] (p0);
    \node at (14,-1) [transition] (t3)[label=below:{$p = 2$}]{}
      edge [pre] (p0);
  \end{tikzpicture}
  \caption{A - Vstup do pøechodu, B - výstup z pøechodu}
  \label{pic4}
\end{figure}



\subsubsection*{Hrany}\label{Hrany}
  \textit{Hrany} (Arcs), spojují místa s pøechody nebo pøechody s místy. Vlastnost, která udává poèet znaèek, které se souèasnì po hranì pøesunou se oznaèuje \textit{kapacita}. Defaultnì se chápe s hodnotou \textit{1}.
\begin{figure}[h]
  \begin{center}
  \begin{tikzpicture}
    [place/.style={circle,draw=black!80,thick, inner sep=0pt,minimum size=10mm},
    transition/.style={rectangle,draw=black!80,thick,inner sep=0pt,minimum size=4mm},
    bend angle=45,
    pre/.style={<-, shorten <=1pt,>=stealth', semithick},
    post/.style={->, shorten >=1pt, >=stealth', semithick}]
    \node at ( -1,1) [place, tokens=1, label=above:$p_0$] (p0){};
    \node at ( -1,-1) [place, tokens=2, label=above:$p_1$] (p1){};
    \node at ( 3,1) [place, label=above:$p_2$] (p2){};
    \node at ( 1,1) [transition] (t1)[]{}
      edge [pre] (p0)
      edge [pre] node[au(p1)
      edge [post] (p2);
    \end{tikzpicture}
    \caption{A - Vstup do pøechodu, B - výstup z pøechodu}
    \label{pic3}
  \end{center}
\end{figure}

\subsection{kapitola}
Popis pou¾itých postupù pro vytvoøení modelu a zdùvodnìní, proè jsou pro zadaný problém vhodné. Zdùvodnìní mù¾e být podpoøeno ukázáním alternativního pøístupu a srovnáním s tím va¹ím. Ètenáø musí mít jistotu, ¾e zvolené nástroje/postupy/technologie jsou ideální pro øe¹ení zadaného problému (ov¹em, "dìlám to v Javì, proto¾e momentálnì Java frèí..." nemusí zadavatele studie uspokojit).

\subsection{kapitola}
 Popis pùvodu pou¾itých metod/technologií (odkud byly získány (odkazy), zda-li jsou vytvoøeny autorem) - pøevzaté èásti dokumentovat (specificky, pokud k nim pøíslu¹í nìjaké autorské oprávnìní/licence). Zdùvodnit potøebu vytvoøení vlastních metod/nástrojù/algoritmù. Ve vìt¹inì pøípadù budete pøebírat ji¾ navr¾ené metody/algoritmy/definice/nástroje a je to pro ¹kolní projekt typické. Stejnì tak je typické, ¾e studenti chybnì vymý¹lí ji¾ hotové vìci a dojdou k naprostému nesmyslu - je tøeba toto nebezpeèí eleminovat v tomto zdùvodnìní.


Velmi dùle¾ité, a¾ fanaticky povinné, kontrolované a hodnocené: na ka¾dém místì v textu, kde se poprvé objeví pojem z pøedmìtu IMS bude v závorce uveden odkaz na pøedmìt a èíslo slajdu, na kterém je pojem definován. Pokud bude významný pojem z pøedmìtu IMS takto nedokumentován v textu a zjevnì bude pou¾íván nevhodným nebo nepøesným zpùsobem, bude tento fakt hodnocen bodovou ztrátou. Tento po¾adavek je mínìn s naprostou vá¾ností. Cílem je vyhnout se studentské tvùrèí èinnosti ve vysvìtlování známých pojmù, co¾ mnohdy vede k naprostým bludùm, ztrátì bodù a zápoètù. Pokud student pojem cituje korektnì a pøesto nekorektnì pou¾ívá, bude to hodnoceno dvojnásobnou bodovou ztrátou.

\section{Koncepce modelu}

Konceptuální model je abstrakce reality a redukce reality na soubor relevantních faktù pro sestavení simulaèního modelu. Pøedpokládáme, ¾e model bude obsahovat fakta z "Rozboru tématu". Pokud jsou nìkterá vyøazena nebo modifikována, je nuto to zde zdùvodnit (napøíklad: zkoumaný subjekt vykazuje v jednom procentu pøípadù toto chování, ov¹em pro potøeby modelu je to naprosto marginální a smíme to zanedbat, nebo» ...). Pokud nìkteré partie reality zanedbáváte nebo zjednodu¹ujete, musí to být zdùvodnìno a v ideálním pøípadì musí být prokázáno, ¾e to neovlivní validitu modelu. Cílem konceptuálního (abstraktního) modelu je formalizovat relevantní fakta o modelovaném systému a jejich vazby. Podle koncept. modelu by mìl být ka¾dý schopen sestavit simulaèní model.

\subsection{kapitola}
pùsob vyjádøení konceptuálního modelu musí být zdùvodnìn (na obrázku xxx je uvedeno schéma systému, v rovnicích xx-yy jsou popsány vazby mezi ..., zpùsob synchronizace procesù je na obrázku xxx s Petriho sítí).
\subsection{kapitola}
Formy konceptuálního modelu (dùraz je kladen na srozumitelnost sdìlení). Podle potøeby uveïte konkrétní relevantní:

\begin{itemize}
  \item obrázek/náèrt/schéma/mapa (mo¾no èitelnì rukou)
  \item matematické rovnice - u nìkterých témat (napø. se spojitými prvky, optimalizace, ...) naprosto nezbytné. Dobré je chápat, ¾e velièiny (fyzikální, technické, ekonomické) mají jednotky, bez kterých údaj nedává smysl.
  \item tavový diagram (koneèný automat) nebo Petriho sí» - spí¹e na abstraktní úrovni. Petriho sí» nemá zobrazovat výpoèty a pøíli¹né detaily. Pokud se pohodlnì nevejde na obrazovku, je nepou¾itelná. Mo¾no rozdìlit na bloky se zajímavými detaily a prezentovat oddìlenì abstraktní celek a podrobnì specifikované bloky (hierarchický pøístup).
\end{itemize}

\section{Architektura simulaèního modelu/simulátoru}
Tato kapitola má rùznou dùle¾itost pro rùzné typy zadání. U implementaèních témat lze tady oèekávat jádro dokumentace. Zde mù¾ete vyu¾ít zajímavého prvku ve va¹em simulaèním modelu a tady ho "prodat".
\subsection{kapitola}
Minimálnì je nutno ukázat mapování abstraktního (koncept.) modelu do simulaèního (resp. simulátoru). Napø. které tøídy odpovídají kterým procesùm/velièinám a podobnì.


\section{Podstata simulaèních experimentù a jejich prùbìh}
Nezamìòujte pojmy testování a experimentování (dùvod pro bodovou ztrátu)!!!
Zopakovat/shrnout co pøesnì chcete zjistit experimentováním a proè k tomu potøebujete model. Pokud experimentování nemá cíl, je celý projekt ¹patnì. Je celkem pøípustné u experimentu odhalit chybu v modelu, kterou na základì experimentu opravíte. Pokud se v nìkterém experimentu nechová model podle oèekávání, je nutné tento experiment dùkladnì provìøit a chování modelu zdùvodnit (je to souèást simulaènické profese). Pokud model pro nìkteré vstupy nemá dùvìryhodné výsledky, je nutné to zdokumentovat. Pochopitelnì model musí mít dùvìryhodné výsledky pro vìt¹inu myslitelných vstupù.
\subsection{kapitola}
Naznaèit postup experimentování ? jakým zpùsobem hodláte prostøednictvím experimentù dojít ke svému cíli (v nìkterých situacích je pøípustné "to zkou¹et tak dlouho a¾ to vyjde", ale i ty musí mít nìjaký organizovaný postup).
\subsection{kapitola}
Dokumentace jednotlivých experimentù - souhrn vstupních podmínek a podmínek bìhu simulace, komentovaný výpis výsledkù, závìr experimentu a plán pro dal¹í experiment (napø. v experimentu 341. jsem nastavil vstup x na hodnotu X, která je typická pro ... a vstup y na Y, proto¾e chci zjistit chování systému v prostøedi ... Po skonèení bìhu simulace byly získány tyto výsledky ..., kde je nejzajímavìj¹í hodnota sledovaných velièin a,b,c které se chovaly podle pøedpokladu a velièin d,e,f které ne. Lze z toho usoudit, ¾e v modelu není správnì implementováno chování v podmínkách ... a proto v následujících experimentech budu vycházet z modifikovaného modelu verze ... Nebo výsledky ukazují, ¾e systém v tìchto podmínkách vykazuje znaènou citlivost na parametr x ... a proto bude dobré v dal¹ích experimentech pøesnì provìøit chování systému na parametr x v intervalu hodnot ... a¾ ...)
\subsection{kapitola}
Závìry experimentù ? bylo provedeno N experimentù v tìchto situacích ... V prùbìhu experimentování byla odstranìna ... chyba v modelu. Z experimentù lze odvodit chování systémù s dostateènou vìrohodností a experimentální provìøování tìchto ... situací ji¾ napøinese dal¹í výsledky, nebo» ...

\section{Shrnutí simulaèních experimentù a závìr}
Nezamìòujte pojmy testování a experimentování (dùvod pro bodovou ztrátu)!!!
Zopakovat/shrnout co pøesnì chcete zjistit experimentováním a proè k tomu potøebujete model. Pokud experimentování nemá cíl, je celý projekt ¹patnì. Je celkem pøípustné u experimentu odhalit chybu v modelu, kterou na základì experimentu opravíte. Pokud se v nìkterém experimentu nechová model podle oèekávání, je nutné tento experiment dùkladnì provìøit a chování modelu zdùvodnit (je to souèást simulaènické profese). Pokud model pro nìkteré vstupy nemá dùvìryhodné výsledky, je nutné to zdokumentovat. Pochopitelnì model musí mít dùvìryhodné výsledky pro vìt¹inu myslitelných vstupù.
\begin{itemize}
  \item do závìru se nehodí psát poznámky osobního charakteru (napø. práce na projektu mì bavila/nebavila, ...). Technická zpráva není osobní pøíbìh autora.
  \item absolutnì nikoho nezajímá, kolik úsilí jste projektu vìnovali, dùle¾itá je pouze kvalita zpracování simulátoru/modelu a obsa¾nost simulaèní studie (rozhodnì ne napø.: projekt jsem dìlal ... hodin, co¾ je víc ne¾ zadání pøedpokládalo. Program má ... øádkù kódu). Pokud zdùrazòujete, ¾e jste práci dìlali významnì déle ne¾ se èekalo, pak tím pouze demonstrujete vlastní neschopnost (to platí zejména v profesním ¾ivotì).
  \item o závìru se velmi nehodí psát "auto-zhodnocení" kvality práce, to je výhradnì na recenzentovi/hodnotiteli (napø. v projektu jsem zcela splnil zadání a domnívám se, ¾e mùj model je bezchybný a výsledky takté¾). Statisticky èastý je pravý opak autorova auto-zhodnocení. Pokud pøesto chcete vyzdvihnout kvalitu svého díla (co¾ je dobøe), tak va¹e výroky musí být naprosto nepopiratelnì zdùvodnìny a prokázány (napø. pomocí jiného referenèního pøístupu, matematického dùkazu, analýzy, ...).
\end{itemize}
\end{document}
